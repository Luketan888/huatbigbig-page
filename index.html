<script>
    document.getElementById("claimForm").addEventListener("submit", function(event) {
        event.preventDefault();  // Prevent the form from reloading the page

        // Gather form data
        const name = document.getElementById("name").value;
        const sex = document.getElementById("sex").value;
        const age = document.getElementById("age").value;
        const email = document.getElementById("email").value;
        const message = document.getElementById("message").value;

        // Prepare the message to send to Telegram
        const telegramMessage = `
            Free Meal Claim Details:

            Name: ${name}
            Sex: ${sex}
            Age: ${age}
            Email: ${email}
            Message: ${message}
        `;

        // Telegram Bot API URL
        const telegramApiUrl = `https://api.telegram.org/bot7660044849:AAFH4BS_yBlcSkoWHY-cf3il4ewfnglq-MY/sendMessage`;

        // Send data to Telegram Bot API
        fetch(telegramApiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                chat_id: 297203268,
                text: telegramMessage
            })
        })
        .then(response => {
            console.log('Response:', response);
            if (response.ok) {
                document.getElementById("confirmationMessage").textContent = 
                    "Thank you! Your details have been sent to Zhi Quan. Enjoy your meal!";
            } else {
                throw new Error('Network response was not ok.');
            }
        })
        .catch(error => {
            document.getElementById("confirmationMessage").textContent = 
                "Oops! Something went wrong. Please try again later.";
            console.error('Error sending message to Telegram:', error);
        });
    });
</script>
